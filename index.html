<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>深圳万色智匠智能科技官网</title>
  <style>
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
    }
    
    body, html { 
      height: 100%; 
      scroll-behavior: smooth; 
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      overflow-x: hidden;
    }

    section {
      height: 100vh;
      width: 100%;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      position: relative;
      background-attachment: scroll; /* 修复iOS滚动问题 */
    }

    /* 导航点 */
    .nav-dots {
      position: fixed;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 12px;
      z-index: 1000;
    }
    
    .nav-dots a {
      width: 12px;
      height: 12px;
      background: rgba(170, 170, 170, 0.8);
      border-radius: 50%;
      display: block;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    
    .nav-dots a.active,
    .nav-dots a:hover {
      background: rgba(51, 51, 51, 0.9);
      transform: scale(1.2);
    }

    footer {
      background: #f2f2f2;
      padding: 15px 0;
      font-size: 14px;
      color: #666;
      text-align: center;
    }
    
    footer a {
      color: #666;
      text-decoration: none;
      margin-left: 10px;
    }
    
    footer a:hover {
      color: #333;
    }

    /* 响应式断点 - 移动端图片自适应优化 */
    
    /* 移动端适配 */
    @media (max-width: 768px) {
      .nav-dots {
        right: 15px;
        gap: 10px;
      }
      
      .nav-dots a {
        width: 10px;
        height: 10px;
      }
      
      section {
        /* 关键：移动端背景图片自适应 */
        background-size: cover;
        background-position: center center;
        background-attachment: scroll;
        min-height: 100vh;
        /* 强制重新计算背景 */
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
      }
      
      /* 确保图片在小屏幕上正确显示 */
      #img1, #img2, #img3, #img4 {
        background-size: cover !important;
        background-position: center center !important;
      }
      
      footer {
        font-size: 13px;
        padding: 15px 10px;
      }
      
      footer div {
        display: flex;
        flex-direction: column;
        gap: 5px;
      }
    }
    
    /* 小屏手机适配 */
    @media (max-width: 480px) {
      .nav-dots {
        right: 10px;
        gap: 8px;
      }
      
      .nav-dots a {
        width: 8px;
        height: 8px;
      }
      
      section {
        /* 小屏幕特殊处理 */
        background-size: cover;
        background-position: center center;
        width: 100vw;
        min-height: 100vh;
        overflow: hidden;
      }
      
      footer {
        font-size: 12px;
        padding: 12px 8px;
      }
    }
    
    /* 超小屏适配 */
    @media (max-width: 320px) {
      .nav-dots a {
        width: 6px;
        height: 6px;
      }
      
      footer {
        font-size: 11px;
        padding: 10px 5px;
      }
    }

    /* 高分辨率屏幕优化 */
    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
      section {
        background-size: cover;
        background-position: center center;
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
      }
    }
  </style>
</head>
<body>

  <!-- 直接使用CSS背景图片 -->
  <section id="img1" style="background-image: url('/images/WechatIMG1231.jpg');"></section>
  <section id="img2" style="background-image: url('/images/WechatIMG1232.jpg');"></section>
  <section id="img3" style="background-image: url('/images/WechatIMG1234.jpg');"></section>
  <section id="img4" style="background-image: url('/images/WechatIMG1235.jpg');"></section>

  <!-- 桌面端和移动端通用导航点 -->
  <div class="nav-dots">
    <a href="#img1"></a>
    <a href="#img2"></a>
    <a href="#img3"></a>
    <a href="#img4"></a>
  </div>

  <footer>
    <div>
      <span>Copyright © 2024-2025 深圳万色智匠智能科技有限公司</span>
      <a href="https://beian.miit.gov.cn" target="_blank">粤ICP备2025436760号</a>
    </div>
  </footer>

  <script>
    // 监听滚动，高亮当前导航点
    const sections = document.querySelectorAll('section');
    const navDots = document.querySelectorAll('.nav-dots a');
    
    function updateActiveNav() {
      let current = '';
      const scrollPosition = window.pageYOffset;
      
      sections.forEach(sec => {
        const top = sec.offsetTop;
        const height = sec.offsetHeight;
        
        if (scrollPosition >= top - window.innerHeight / 2 && 
            scrollPosition < top + height - window.innerHeight / 2) {
          current = sec.getAttribute('id');
        }
      });
      
      // 更新导航点
      navDots.forEach(dot => {
        dot.classList.remove('active');
        if (dot.getAttribute('href') === '#' + current) {
          dot.classList.add('active');
        }
      });
    }
    
    // 监听滚动事件
    window.addEventListener('scroll', updateActiveNav);
    
    // 页面加载时初始化
    window.addEventListener('load', updateActiveNav);
    
    // 优化移动端滚动性能
    let ticking = false;
    
    function requestTick() {
      if (!ticking) {
        requestAnimationFrame(updateActiveNav);
        ticking = true;
        setTimeout(() => { ticking = false; }, 16);
      }
    }
    
    window.addEventListener('scroll', requestTick);
    
    // 移动端背景图片自适应处理
    function adjustBackgroundImages() {
      const isMobile = window.innerWidth <= 768;
      const sections = document.querySelectorAll('section');
      
      sections.forEach(section => {
        if (isMobile) {
          // 移动端强制重新设置背景图片属性
          const currentBg = section.style.backgroundImage;
          section.style.backgroundSize = 'cover';
          section.style.backgroundPosition = 'center center';
          section.style.backgroundRepeat = 'no-repeat';
          // 触发重绘
          section.style.transform = 'translateZ(0)';
        }
      });
    }
    
    // 页面加载和窗口大小改变时调整
    window.addEventListener('load', adjustBackgroundImages);
    window.addEventListener('resize', adjustBackgroundImages);
    window.addEventListener('orientationchange', () => {
      setTimeout(adjustBackgroundImages, 100);
    });
    
    // 平滑滚动到目标位置（兼容旧浏览器）
    function smoothScrollTo(element) {
      const targetPosition = element.offsetTop;
      const startPosition = window.pageYOffset;
      const distance = targetPosition - startPosition;
      const duration = 800;
      let start = null;
      
      function animation(currentTime) {
        if (start === null) start = currentTime;
        const timeElapsed = currentTime - start;
        const run = ease(timeElapsed, startPosition, distance, duration);
        window.scrollTo(0, run);
        if (timeElapsed < duration) requestAnimationFrame(animation);
      }
      
      function ease(t, b, c, d) {
        t /= d / 2;
        if (t < 1) return c / 2 * t * t + b;
        t--;
        return -c / 2 * (t * (t - 2) - 1) + b;
      }
      
      requestAnimationFrame(animation);
    }
    
    // 为导航链接添加点击事件（如果浏览器不支持CSS scroll-behavior）
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          e.preventDefault();
          
          // 检查是否支持原生平滑滚动
          if ('scrollBehavior' in document.documentElement.style) {
            target.scrollIntoView({ behavior: 'smooth' });
          } else {
            smoothScrollTo(target);
          }
        }
      });
    });
  </script>

</body>
</html>
